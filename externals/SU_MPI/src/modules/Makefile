#      ******************************************************************
#      *                                                                *
#      * File:          Makefile                                        *
#      * Author:        Edwin van der Weide                             *
#      * Starting date: 02-21-2006                                      *
#      * Last modified: 02-24-2006                                      *
#      *                                                                *
#      ******************************************************************

#      ******************************************************************
#      *                                                                *
#      * Description: Makefile to create the module and object files of *
#      *              this directory.                                   *
#      *                                                                *
#      ******************************************************************

#      ==================================================================

#      ******************************************************************
#      *                                                                *
#      * Include the common file.                                       *
#      *                                                                *
#      ******************************************************************

SU_MPI_DIR = ../..
SU_MPI_COMMON_FILE = $(SU_MPI_DIR)/SU_MPI_Common.mk
include ${SU_MPI_COMMON_FILE}

#      ******************************************************************
#      *                                                                *
#      * Names of the Fortran object files to be created.               *
#      *                                                                *
#      ******************************************************************

vpath %.o $(SU_MPI_OBJDIR)
FF90_OBJECTS = su_mpi.o

OBJECTS = $(FF90_OBJECTS)

#      ******************************************************************
#      *                                                                *
#      * Targets for make.                                              *
#      *                                                                *
#      ******************************************************************

default: all

all: 
	$(MAKE) src
	cp -f *.mod $(SU_MPI_MODDIR)

clean:
	@echo "        Making clean in SU_MPI/src/modules ... "
	rm -f $(MAKE_CLEAN_ARGUMENTS)

#      ******************************************************************
#      *                                                                *
#      * Rule to make the objects.                                      *
#      *                                                                *
#      ******************************************************************

src:	$(OBJECTS)
