<title>Generated by TAPENADE</title>
<link type="text/CSS" rel="stylesheet" href="tapenade.css">
<link type="text/CSS" rel="stylesheet" href="fortranStyle.css">
<body>
<pre><a name="unsteadyturbspectral"></a><a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="comment">!        Generated by TAPENADE     (INRIA, Tropics team)</code></a>
<a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="comment">!  Tapenade 3.4 (r3375) - 10 Feb 2010 15:08</code></a>
<a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="comment">!</code></a>
<a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="comment">!</code></a>
<a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="comment">!      ******************************************************************</code></a>
<a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="comment">!      *                                                                *</code></a>
<a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="comment">!      * File:          unsteadyTurbSpectral.f90                        *</code></a>
<a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="comment">!      * Author:        Edwin van der Weide                             *</code></a>
<a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="comment">!      * Starting date: 08-22-2004                                      *</code></a>
<a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="comment">!      * Last modified: 06-28-2005                                      *</code></a>
<a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="comment">!      *                                                                *</code></a>
<a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="comment">!      ******************************************************************</code></a>
<a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="comment">!</code></a>
<a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="keyword">SUBROUTINE </code><code class="funcname">UNSTEADYTURBSPECTRAL</code>(<code class="vardecl">ntu1</code>, <code class="vardecl">ntu2</code>)</a>
  <a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="keyword">USE </code><code class="funcname">INPUTPHYSICS</code></a>
  <a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="keyword">USE </code><code class="funcname">BLOCKPOINTERS</code></a>
  <a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="keyword">USE </code><code class="funcname">INPUTTIMESPECTRAL</code></a>
  <a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="keyword">USE </code><code class="funcname">ITERATION</code></a>
  <a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="keyword">IMPLICIT NONE</code></a>
<a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="comment">!</code></a>
<a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="comment">!      ******************************************************************</code></a>
<a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="comment">!      *                                                                *</code></a>
<a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="comment">!      * unsteadyTurbSpectral determines the spectral time derivative   *</code></a>
<a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="comment">!      * for all owned cells. This routine is called before the actual  *</code></a>
<a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="comment">!      * solve routines, such that the treatment is identical for all   *</code></a>
<a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="comment">!      * spectral solutions. The results is stored in the corresponding *</code></a>
<a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="comment">!      * entry in dw.                                                   *</code></a>
<a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="comment">!      *                                                                *</code></a>
<a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="comment">!      ******************************************************************</code></a>
<a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="comment">!</code></a>
<a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="comment">!</code></a>
<a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="comment">!      Subroutine arguments.</code></a>
<a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="comment">!</code></a>
  <a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="typename">INTEGER(</code><code class="keyword">kind</code>=<code class="modifier">inttype</code><code class="typename">)</code>, <code class="typename">INTENT(IN) </code>:: <code class="vardecl">ntu1</code>, <code class="vardecl">ntu2</code></a>
<a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="comment">!</code></a>
<a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="comment">!      Local variables.</code></a>
<a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="comment">!</code></a>
  <a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="typename">INTEGER(</code><code class="keyword">kind</code>=<code class="modifier">inttype</code><code class="typename">) </code>:: <code class="vardecl">ii</code>, <code class="vardecl">mm</code>, <code class="vardecl">nn</code>, <code class="vardecl">sps</code>, <code class="vardecl">i</code>, <code class="vardecl">j</code>, <code class="vardecl">k</code></a>
  <a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="keyword">EXTERNAL </code><code class="funcname">SETPOINTERS</code></a>
  <a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="keyword">EXTERNAL </code><code class="funcname">FLOWDOMS</code></a>
  <a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="keyword">TYPE(</code><code class="typename">UNKNOWNDERIVEDTYPE2</code><code class="keyword">) </code>:: <code class="funcname">FLOWDOMS</code></a>
<a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="comment">!</code></a>
<a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="comment">!      ******************************************************************</code></a>
<a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="comment">!      *                                                                *</code></a>
<a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="comment">!      * Begin execution                                                *</code></a>
<a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="comment">!      *                                                                *</code></a>
<a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="comment">!      ******************************************************************</code></a>
<a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="comment">!</code></a>
<a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="comment">! Return immediately if not the time spectral equations are to</code></a>
<a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="comment">! be solved.</code></a>
  <a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="keyword">IF</code> (equationmode .NE. timespectral) <code class="keyword">THEN</code></a>
    <a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="keyword">RETURN</code></a>
  <a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="keyword">ELSE</code></a>
<a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="comment">! Loop over the number of spectral modes and local blocks.</code></a>
<a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="label">spectralloop:</code><code class="keyword">DO </code>sps=<code class="constant">1</code>,ntimeintervalsspectral</a>
<a name="p32"></a><a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="label">domains:</code><code class="keyword">DO </code>nn=<code class="constant">1</code>,ndom</a>
<a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="comment">! Set the pointers for this block.</code></a>
        <a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="keyword">CALL </code></a><a href="msg.html#p32" target="msg"><code class="comment"><img src="danger.gif" align=middle border=0 alt="!" /></code></a><a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="funcname">SETPOINTERS</code>(nn, currentlevel, sps)</a>
<a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="comment">! Loop over the number of turbulent transport equations.</code></a>
<a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="label">nadvloop:</code><code class="keyword">DO </code>ii=ntu1,ntu2</a>
<a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="comment">! Initialize the time derivative to zero for the owned</code></a>
<a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="comment">! cell centers.</code></a>
          <a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="keyword">DO </code>k=<code class="constant">2</code>,kl</a>
            <a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="keyword">DO </code>j=<code class="constant">2</code>,jl</a>
              <a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="keyword">DO </code>i=<code class="constant">2</code>,il</a>
                <a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile">dw(i, j, k, ii) = zero</a>
              <a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="keyword">END DO</code></a>
            <a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="keyword">END DO</code></a>
          <a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="keyword">END DO</code></a>
<a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="comment">! Loop over the number of terms which contribute to the</code></a>
<a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="comment">! time derivative.</code></a>
          <a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="keyword">DO </code>mm=<code class="constant">1</code>,ntimeintervalsspectral</a>
<a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="comment">! Add the contribution to the time derivative for</code></a>
<a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="comment">! all owned cells.</code></a>
            <a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="keyword">DO </code>k=<code class="constant">2</code>,kl</a>
              <a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="keyword">DO </code>j=<code class="constant">2</code>,jl</a>
<a name="p33"></a>                <a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="keyword">DO </code>i=<code class="constant">2</code>,il</a>
                  <a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile">dw(i, j, k, ii) = dw(i, j, k, ii) + dscalar(sectionid<code class="label">&</code></a>
<a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="label">&                    </code>, sps, mm)*</a><a href="msg.html#p33" target="msg"><code class="comment"><img src="danger.gif" align=middle border=0 alt="!" /></code></a><a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="funcname">FLOWDOMS</code>(nn, currentlevel, mm)%w(i, j, k<code class="label">&</code></a>
<a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="label">&                    </code>, ii)</a>
                <a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="keyword">END DO</code></a>
              <a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="keyword">END DO</code></a>
            <a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="keyword">END DO</code></a>
          <a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="keyword">END DO</code></a>
        <a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="keyword">END DO </code><code class="label">nadvloop</code></a>
      <a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="keyword">END DO </code><code class="label">domains</code></a>
    <a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="keyword">END DO </code><code class="label">spectralloop</code></a>
  <a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="keyword">END IF</code></a>
<a href="unsteadyturbspectral.html#unsteadyturbspectral" target="diffFile"><code class="keyword">END SUBROUTINE </code><code class="funcname">UNSTEADYTURBSPECTRAL</code></a>
</pre>
</body>
