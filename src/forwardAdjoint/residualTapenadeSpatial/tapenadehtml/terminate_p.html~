<title>Generated by TAPENADE</title>
<link type="text/CSS" rel="stylesheet" href="tapenade.css">
<link type="text/CSS" rel="stylesheet" href="fortranStyle.css">
<body>
<pre><a name="terminate"></a><a href="terminate.html#terminate" target="diffFile"><code class="comment">!        Generated by TAPENADE     (INRIA, Tropics team)</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!  Tapenade 3.4 (r3375) - 10 Feb 2010 15:08</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!      ******************************************************************</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!      *                                                                *</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!      * File:          terminate.f90                                   *</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!      * Author:        Edwin van der Weide                             *</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!      * Starting date: 12-10-2002                                      *</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!      * Last modified: 10-14-2005                                      *</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!      *                                                                *</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!      ******************************************************************</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="keyword">SUBROUTINE </code><code class="funcname">TERMINATE</code>(<code class="vardecl">routinename</code>, <code class="vardecl">errormessage</code>)</a>
  <a href="terminate.html#terminate" target="diffFile"><code class="keyword">USE </code><code class="funcname">CONSTANTS</code></a>
  <a href="terminate.html#terminate" target="diffFile"><code class="keyword">USE </code><code class="funcname">PRECISION</code></a>
  <a href="terminate.html#terminate" target="diffFile"><code class="keyword">USE </code><code class="funcname">COMMUNICATION</code></a>
  <a href="terminate.html#terminate" target="diffFile"><code class="keyword">IMPLICIT NONE</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!!$       ! Copy the errorMessage into message. It is not possible to work</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!!$       ! with errorMessage directly, because it is modified in this</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!!$       ! routine. Sometimes a constant string is passed to this routine</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!!$       ! and some compilers simply fail then.</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!!$</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!!$       message = errorMessage</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!!$</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!!$       ! Print a nice error message. In case of a parallel executable</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!!$       ! also the processor id is printed.</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!!$</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!!$       print "(a)", "#"</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!!$       print "(a)", "#=========================== !!! Error !!! &</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!!$                    &============================"</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!!$</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!!$       if(.not. SU_MPI_isSequential) then</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!!$         write(integerString,"(i8)") myID</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!!$         integerString = adjustl(integerString)</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!!$</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!!$         print "(2a)", "#* Terminate called by processor ", &</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!!$                       trim(integerString)</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!!$       endif</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!!$</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!!$       ! Write the header of the error message.</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!!$</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!!$       print "(2a)", "#* Run-time error in procedure ", &</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!!$                     trim(routineName)</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!!$</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!!$       ! Loop to write the error message. If the message is too long it</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!!$       ! is split over several lines.</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!!$</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!!$       firstTime = .true.</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!!$       do</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!!$         ! Determine the remaining error message to be written.</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!!$         ! If longer than the maximum number of characters allowed</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!!$         ! on a line, it is attempted to split the message.</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!!$</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!!$         message = adjustl(message)</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!!$         len = len_trim(message)</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!!$         i2  = min(maxCharLine,len)</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!!$</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!!$         if(i2 < len) i2 = index(message(:i2), " ", .true.) - 1</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!!$         if(i2 < 0)   i2 = index(message, " ") - 1</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!!$         if(i2 < 0)   i2 = len</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!!$</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!!$         ! Write this part of the error message. If it is the first</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!!$         ! line of the message some additional stuff is printed.</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!!$</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!!$         if( firstTime ) then</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!!$           print "(2a)", "#* Error message: ", &</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!!$                         trim(message(:i2))</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!!$           firstTime = .false.</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!!$         else</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!!$           print "(2a)", "#*                ", &</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!!$                         trim(message(:i2))</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!!$         endif</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!!$</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!!$         ! Exit the loop if the entire message has been written.</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!!$</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!!$         if(i2 == len) exit</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!!$</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!!$         ! Adapt the string for the next part to be written.</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!!$</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!!$         message = message(i2+1:)</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!!$</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!!$       enddo</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!!$</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!!$       ! Write the trailing message.</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!!$</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!!$       print "(a)", "#*"</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!!$       print "(a)", "#* Now exiting"</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!!$       print "(a)", "#==========================================&</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!!$                    &============================"</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!!$       print "(a)", "#"</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!!$</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!!$       ! Call abort and stop the program. This stop should be done in</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!!$       ! abort, but just to be sure.</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!!$</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!!$       call mpi_abort(SUmb_comm_world, 1, ierr)</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!!$       stop</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!      ******************************************************************</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!      *                                                                *</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!      * terminate writes an error message to standard output and       *</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!      * terminates the execution of the program.                       *</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!      *                                                                *</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!      ******************************************************************</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!      Subroutine arguments</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!</code></a>
  <a href="terminate.html#terminate" target="diffFile"><code class="typename">CHARACTER</code>(<code class="keyword">len</code>=<code class="keyword">*</code>), <code class="typename">INTENT(IN) </code>:: <code class="vardecl">routinename</code></a>
  <a href="terminate.html#terminate" target="diffFile"><code class="typename">CHARACTER</code>(<code class="keyword">len</code>=<code class="keyword">*</code>), <code class="typename">INTENT(IN) </code>:: <code class="vardecl">errormessage</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!      Local parameter</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!</code></a>
  <a href="terminate.html#terminate" target="diffFile"><code class="typename">INTEGER</code>, <code class="typename">PARAMETER </code>:: <code class="vardecl">maxcharline</code>=<code class="constant">55</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!      Local variables</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!</code></a>
  <a href="terminate.html#terminate" target="diffFile"><code class="typename">INTEGER </code>:: <code class="vardecl">ierr</code>, <code class="vardecl">len</code>, <code class="vardecl">i2</code></a>
  <a href="terminate.html#terminate" target="diffFile"><code class="typename">LOGICAL </code>:: <code class="vardecl">firsttime</code></a>
  <a href="terminate.html#terminate" target="diffFile"><code class="typename">CHARACTER</code>(<code class="keyword">len</code>=len_trim(errormessage)) :: <code class="vardecl">message</code></a>
  <a href="terminate.html#terminate" target="diffFile"><code class="typename">CHARACTER</code>(<code class="keyword">len</code>=<code class="constant">8</code>) :: <code class="vardecl">integerstring</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!      ******************************************************************</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!      *                                                                *</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!      * Begin execution                                                *</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!      *                                                                *</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="comment">!      ******************************************************************</code></a>
  <a href="terminate.html#terminate" target="diffFile"><code class="keyword">PRINT*</code>, <code class="string">'dummy terminate routine'</code></a>
<a href="terminate.html#terminate" target="diffFile"><code class="keyword">END SUBROUTINE </code><code class="funcname">TERMINATE</code></a>
</pre>
</body>
