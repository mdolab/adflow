#These are instructions to generate the forward mode derivatives using Tapenade.
#The forward mode derivatives are currenly using tapenade release 3.4.

#change directories to:
cd /SUmb/src/forwardAdjoint/

#open the file:

Makefile_tapenade_extra

#update the SOLVER_DIRSRC to your local /SUmb/src directory

#run the command:

make -f Makefile_tapenade_extra

#change directories to:
cd /src/forwardAdjoint/residualTapenadeExtra

#run the command
python autoEdit.py

#change directories to:
cd /src/forwardAdjoint/residualOutputExtra

#make the following manual corrections:
referencestate_mod_extra_d.f90: comment out REAL(kind=realtype) :: MAXVALUESUBFACE 

setflowinfinitystate_extra_d.f90:  modify WHERE structure to if() then for wInf
				   add if (ALLOCATED(winfd)) then	   
                                      DEALLOCATE(winfd)
				      END if
				      ALLOCATE(winfd(nw), stat=ierr)
				  after corresponding winf allocate block.

normalvelocities_block_extra_d.f90:
remove 1 of the 2:INTEGER :: ii1
change:
     DO ii1=1,ISIZE2OFbcdata
         bcdatad(ii1)%rface = 0.0
     END DO

to: 
     DO ii1=1,nbocos!ISIZE2OFbcdata
     IF (ASSOCIATED(bcdata(ii1)%rface)) THEN
         bcdatad(ii1)%rface = 0.0
     endif
     END DO

and change:
DO ii1=1,ISIZE2OFbcdata
      bcdatad(ii1)%rface = 0.0
END DO

DO mm=1,nbocos
    bcdatad(mm)%rface = 0.0
    bcdata(mm)%rface = zero
END DO

DO ii1=1,ISIZE2OFbcdata
     bcdatad(ii1)%rface = 0.0
END DO

to:

DO mm=1,nbocos
   IF (ASSOCIATED(bcdata(mm)%rface)) THEN
      bcdatad(mm)%rface = 0.0
        bcdata(mm)%rface = zero
   END IF
END DO

DO ii1=1,nbocos
   IF (ASSOCIATED(bcdata(ii1)%rface)) THEN
      bcdatad(ii1)%rface = 0.0
   END IF
END DO


the code should now compile and run
